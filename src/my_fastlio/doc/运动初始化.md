# 运动中初始化

初始化重要的是求出 ${}^{W}\mathbf{v}_{I_0}$ 和 ${}^{W}\mathbf{g}$, 本章节不打算用预积分式的初始化(需要求解 ${}^{W}\mathbf{v}_{I_0}, ... , {}^{W}\mathbf{v}_{I_n}, {}^{W}\mathbf{g}_{}$,), 希望利在积分过程中对 ${}^{W}\mathbf{v}_{I_0}$ 和 ${}^{W}\mathbf{g}$ 的自动构建方程求解.

由于：

$$
\begin{equation}
  \begin{aligned}
    {}^{W}\mathbf{p}_{I_{i+1}} = {}^{W}\mathbf{p}_{I_i} + \Delta{t}\left[{}^{W}\mathbf{v}_{I_i} + \frac{1}{2} \Delta{t} \left({}^{W}\mathbf{R}_{I_i}({}^{I}\mathbf{a}_{i} - {}^{I}\mathbf{b}_{a}) + {}^{W}\mathbf{g}\right) \right]
  \end{aligned}
\end{equation}
$$

其中:
$$
\begin{equation}
  \begin{aligned}
    {}^{W}\mathbf{v}_{I_{i+1}} = {}^{W}\mathbf{v}_{I_{i}} + \Delta{t} \left[ {}^{W}\mathbf{R}_{I_i}({}^{I}\mathbf{a}_{i} - {}^{I}\mathbf{b}_{a}) + {}^{W}\mathbf{g} \right]
  \end{aligned}
\end{equation}
$$

其中:
$$
\begin{equation}
  \begin{aligned}
    {}^{W}\mathbf{R}_{I_{i+1}} = {}^{W}\mathbf{R}_{I_i} \text{Exp}\left( \Delta{t} ({}^{I}\mathbf{\omega}_{i} - {}^{I}\mathbf{b}_{\omega}) \right)
  \end{aligned}
\end{equation}
$$

其实可以发现最后只和 $\mathbf{b}_{a}, \mathbf{b}_{w}, {}^{W}\mathbf{g}_{}, {}^{W}\mathbf{v}_{I_0}$ 有关. 
因此,我们自然的进行积分,然后利用自动求导累积出残差变量对这四者的导数.但是麻烦的是 $\mathbf{b}_{w}$ ,涉及到流形的求解, 而且这个值如果求解的有问题, 误差会随着时间累积.

